# Field Snap AI - Environment Variables Template
# Copy this file to .env and fill in the actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=development
PORT=3001
APP_NAME="Field Snap AI"
APP_VERSION=0.1.0
BASE_URL=http://localhost:3001

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Supabase Storage
SUPABASE_STORAGE_BUCKET=field-snap-images

# =============================================================================
# OCR PROVIDERS
# =============================================================================

# Google Cloud Vision API
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_PRIVATE_KEY_ID=your-private-key-id
GOOGLE_CLOUD_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour-private-key\n-----END PRIVATE KEY-----"
GOOGLE_CLOUD_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
GOOGLE_CLOUD_CLIENT_ID=your-client-id
GOOGLE_CLOUD_AUTH_URI=https://accounts.google.com/o/oauth2/auth
GOOGLE_CLOUD_TOKEN_URI=https://oauth2.googleapis.com/token

# OpenAI Vision API (Fallback)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORGANIZATION=org-your-organization-id

# OCR Provider Configuration - Enhanced Tesseract (Primary)
# Choose: tesseract, openai_vision, google_vision
OCR_PROVIDER=tesseract
OCR_PRIMARY_PROVIDER=tesseract
OCR_FALLBACK_PROVIDER=openai_vision
OCR_FINAL_FALLBACK=google_vision

# =============================================================================
# TESSERACT OCR ADVANCED CONFIGURATION
# =============================================================================

# Languages (comma-separated): eng,spa,fra,deu,ita,por,rus,chi_sim,jpn,ara
TESSERACT_LANGUAGES=eng,spa

# Content type for optimization: 
# business_sign, business_card, document, single_line, receipt, phone_numbers, addresses, licenses
TESSERACT_CONTENT_TYPE=business_sign

# Page Segmentation Mode (0-13):
# 0=OSD_only, 3=auto, 6=single_block, 7=single_line, 8=single_word, 11=sparse_text, 13=raw_line
TESSERACT_PSM=11

# OCR Engine Mode (0-3): 0=legacy, 1=lstm(default), 2=legacy+lstm, 3=default
TESSERACT_OEM=1

# Performance & Quality Settings
TESSERACT_CACHE_METHOD=local
TESSERACT_DPI=300
TESSERACT_AUTO_ROTATE=true
TESSERACT_DEBUG_IMAGES=false

# Custom paths (optional - leave empty for defaults)
# TESSERACT_WORKER_PATH=
# TESSERACT_CORE_PATH=
# TESSERACT_LANG_PATH=https://tessdata.projectnaptha.com/4.0.0_best

# Region of Interest: left,top,width,height (optional - for cropping before OCR)
# TESSERACT_ROI=

# =============================================================================
# EMAIL SYSTEM (SMTP)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM="Field Snap AI <noreply@fieldsnap.ai>"

# =============================================================================
# SMS NOTIFICATIONS (TWILIO)
# =============================================================================
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# WEB PUSH NOTIFICATIONS
# =============================================================================
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:admin@fieldsnap.ai

# =============================================================================
# ENRICHMENT SERVICES
# =============================================================================

# Google Places API (for business information)
GOOGLE_PLACES_API_KEY=your-google-places-api-key

# Yelp Fusion API (for reviews and additional business data)
YELP_API_KEY=your-yelp-api-key

# Social Media APIs
FACEBOOK_ACCESS_TOKEN=your-facebook-access-token
INSTAGRAM_ACCESS_TOKEN=your-instagram-access-token

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT Secret for internal API authentication
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# =============================================================================
# DEPLOYMENT & HOSTING
# =============================================================================

# Netlify Functions (if using Netlify)
NETLIFY_SITE_ID=your-netlify-site-id
NETLIFY_ACCESS_TOKEN=your-netlify-access-token

# Vercel (if using Vercel)
VERCEL_TOKEN=your-vercel-token

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Application Insights / Analytics
APPLICATION_INSIGHTS_CONNECTION_STRING=your-connection-string

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log Level (debug, info, warn, error, fatal)
LOG_LEVEL=info

# Public Log Viewer URL (for agent access)
PUBLIC_LOG_URL=https://your-domain.com/api/logs

# Bearer token to access the /logs endpoint
# Use a strong, random value. Example: openssl rand -base64 32
LOGS_TOKEN=change-me

# Maximum in-memory log entries retained (ring buffer)
LOGS_MAX_ENTRIES=5000

# Optional: path to append NDJSON logs on disk
# Leave empty to disable file logging
LOG_FILE_PATH=

# =============================================================================
# WEBHOOK ENDPOINTS
# =============================================================================

# Webhook for external integrations
WEBHOOK_SECRET=your-webhook-secret
WEBHOOK_ENDPOINTS=https://your-external-system.com/webhook

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================

# Lead Scoring Thresholds
QUALIFICATION_THRESHOLD=50
HIGH_PRIORITY_THRESHOLD=80

# Processing Timeouts (in milliseconds)
OCR_TIMEOUT=30000
ENRICHMENT_TIMEOUT=45000
TOTAL_PROCESSING_TIMEOUT=120000

# Retry Configuration
MAX_RETRIES=3
RETRY_DELAY_MS=1000

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================

# Maximum file size for image uploads (in MB)
MAX_FILE_SIZE_MB=10

# Allowed file types
ALLOWED_MIME_TYPES=image/jpeg,image/png,image/webp,image/heic

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Debug Mode
DEBUG=true

# Test Database (if using separate test DB)
TEST_SUPABASE_URL=https://your-test-project.supabase.co
TEST_SUPABASE_ANON_KEY=your-test-anon-key

# Mock Services (for development)
MOCK_OCR=false
MOCK_ENRICHMENT=false
MOCK_NOTIFICATIONS=false
